{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/amykang/Desktop/Capstone/bobo-star/client/src/components/pages/LoginPage/LoginPage.jsx\";\nimport React, { Component } from 'react';\nimport { auth } from '../../../firebase';\nimport './LoginPage.scss';\nimport { Link } from 'react-router-dom';\nimport HomePage from '../HomePage/HomePage';\nimport UserLoginPage from '../../UserLoginPage/UserLoginPage';\n\nclass LoginPage extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      e.preventDefault();\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      error: \"\",\n      user: {},\n      type: \"collector\"\n    };\n    this.login = this.login.bind(this);\n    this.signup = this.signup.bind(this);\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  authListener() {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          user: user\n        });\n      } else {\n        this.setState({\n          user: null\n        });\n      }\n    });\n  }\n\n  login(e) {\n    e.preventDefault();\n    console.log(e.target);\n    auth.signInWithEmailAndPassword(this.state.username, this.state.password).then(u => {}).catch(err => {\n      console.log(err);\n      this.setState({\n        error: err.message\n      });\n    });\n  }\n\n  signup(e) {\n    e.preventDefault();\n    auth.createUserWithEmailAndPassword(e.target.username, e.target.password).catch(err => {\n      this.setState({\n        error: err.message\n      });\n    });\n  }\n\n  render() {\n    return this.state.user ? /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 30\n    }, this) : /*#__PURE__*/_jsxDEV(UserLoginPage, {\n      handleChange: this.handleChange,\n      login: this.login,\n      signup: this.signup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 44\n    }, this);\n  }\n\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/amykang/Desktop/Capstone/bobo-star/client/src/components/pages/LoginPage/LoginPage.jsx"],"names":["React","Component","auth","Link","HomePage","UserLoginPage","LoginPage","constructor","handleChange","e","preventDefault","setState","target","name","value","state","username","password","error","user","type","login","bind","signup","componentDidMount","authListener","onAuthStateChanged","console","log","signInWithEmailAndPassword","then","u","catch","err","message","createUserWithEmailAndPassword","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,IAAR,QAAmB,mBAAnB;AACA,OAAO,kBAAP;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,aAAP,MAA0B,mCAA1B;;AAEA,MAAMC,SAAN,SAAwBL,SAAxB,CAAkC;AAC9BM,EAAAA,WAAW,GAAG;AACV;;AADU,SA0BdC,YA1Bc,GA0BEC,CAAD,IAAM;AACjBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKC,QAAL,CAAc;AAAC,SAACF,CAAC,CAACG,MAAF,CAASC,IAAV,GAAiBJ,CAAC,CAACG,MAAF,CAASE;AAA3B,OAAd;AACH,KA7Ba;;AAEV,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,KAAK,EAAE,EAHE;AAITC,MAAAA,IAAI,EAAE,EAJG;AAKTC,MAAAA,IAAI,EAAE;AALG,KAAb;AAOA,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYD,IAAZ,CAAiB,IAAjB,CAAd;AACH;;AAEDE,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,YAAL;AACH;;AAEDA,EAAAA,YAAY,GAAG;AACXvB,IAAAA,IAAI,CAACwB,kBAAL,CAAyBP,IAAD,IAAQ;AAC5B,UAAGA,IAAH,EAAS;AACL,aAAKR,QAAL,CAAc;AAACQ,UAAAA,IAAI,EAAEA;AAAP,SAAd;AACH,OAFD,MAEO;AACH,aAAKR,QAAL,CAAc;AAACQ,UAAAA,IAAI,EAAE;AAAP,SAAd;AACH;AACJ,KAND;AAOH;;AAMDE,EAAAA,KAAK,CAACZ,CAAD,EAAI;AACLA,IAAAA,CAAC,CAACC,cAAF;AACAiB,IAAAA,OAAO,CAACC,GAAR,CAAYnB,CAAC,CAACG,MAAd;AACAV,IAAAA,IAAI,CAAC2B,0BAAL,CAAgC,KAAKd,KAAL,CAAWC,QAA3C,EAAqD,KAAKD,KAAL,CAAWE,QAAhE,EACCa,IADD,CACMC,CAAC,IAAE,CAAE,CADX,EAECC,KAFD,CAEOC,GAAG,IAAE;AACRN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACA,WAAKtB,QAAL,CAAc;AACVO,QAAAA,KAAK,EAAEe,GAAG,CAACC;AADD,OAAd;AAGH,KAPD;AAQH;;AAEDX,EAAAA,MAAM,CAACd,CAAD,EAAK;AACPA,IAAAA,CAAC,CAACC,cAAF;AACAR,IAAAA,IAAI,CAACiC,8BAAL,CAAoC1B,CAAC,CAACG,MAAF,CAASI,QAA7C,EAAuDP,CAAC,CAACG,MAAF,CAASK,QAAhE,EACCe,KADD,CACOC,GAAG,IAAE;AACR,WAAKtB,QAAL,CAAc;AACVO,QAAAA,KAAK,EAAEe,GAAG,CAACC;AADD,OAAd;AAGH,KALD;AAMH;;AAEDE,EAAAA,MAAM,GAAG;AACL,WACI,KAAKrB,KAAL,CAAWI,IAAX,gBAAiB,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,YAAjB,gBAA+B,QAAC,aAAD;AAAe,MAAA,YAAY,EAAE,KAAKX,YAAlC;AAAgD,MAAA,KAAK,EAAE,KAAKa,KAA5D;AAAmE,MAAA,MAAM,EAAE,KAAKE;AAAhF;AAAA;AAAA;AAAA;AAAA,YADnC;AAIH;;AA5D6B;;AA+DlC,eAAejB,SAAf","sourcesContent":["import React, {Component} from 'react';\nimport {auth} from '../../../firebase';\nimport './LoginPage.scss';\nimport {Link} from 'react-router-dom';\nimport HomePage from '../HomePage/HomePage';\nimport UserLoginPage from '../../UserLoginPage/UserLoginPage';\n\nclass LoginPage extends Component {\n    constructor() {\n        super();\n        this.state = {\n            username: \"\",\n            password: \"\",\n            error: \"\",\n            user: {},\n            type: \"collector\"\n        }\n        this.login = this.login.bind(this)\n        this.signup = this.signup.bind(this)\n    }\n\n    componentDidMount() {\n        this.authListener() \n    }\n\n    authListener() {\n        auth.onAuthStateChanged((user)=>{\n            if(user) {\n                this.setState({user: user});\n            } else {\n                this.setState({user: null})\n            }\n        }) \n    }\n    handleChange = (e)=> {\n        e.preventDefault();\n        this.setState({[e.target.name]: e.target.value})\n    }\n\n    login(e) {\n        e.preventDefault();\n        console.log(e.target)\n        auth.signInWithEmailAndPassword(this.state.username, this.state.password)\n        .then(u=>{})\n        .catch(err=>{\n            console.log(err)\n            this.setState({\n                error: err.message\n            })\n        })\n    }\n\n    signup(e)  {\n        e.preventDefault();\n        auth.createUserWithEmailAndPassword(e.target.username, e.target.password)\n        .catch(err=>{\n            this.setState({\n                error: err.message\n            })\n        })\n    }\n\n    render() {\n        return(\n            this.state.user? <HomePage/> : <UserLoginPage handleChange={this.handleChange} login={this.login} signup={this.signup}/>\n        )\n\n    }\n}\n\nexport default LoginPage"]},"metadata":{},"sourceType":"module"}